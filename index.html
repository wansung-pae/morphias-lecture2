<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>0MORPHIAS0 | Intro, Lotto & Tarot</title>
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ ë° ê¸°ì¡´ ìŠ¤íƒ€ì¼ ìœ ì§€ */
        * {
            margin: 0; padding: 0; box-sizing: border-box;
            font-family: 'Pretendard', 'Helvetica Neue', sans-serif;
            -webkit-font-smoothing: antialiased;
        }

        body {
            background: url('homepage1.jpg') no-repeat center center fixed;
            background-size: cover;
            color: #ffffff;
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; padding: 20px; overflow-x: hidden;
        }

        body::before {
            content: ""; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.45); z-index: -1;
        }

        .main-container {
            width: 100%; max-width: 500px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 24px; border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            padding: 30px 20px; text-align: center; position: relative; overflow: hidden;
        }

        .main-container.tarrot-bg-active::after {
            content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: url("2.jpg") no-repeat center center; /* ê²½ë¡œ ìˆ˜ì •ë¨ */
            background-size: cover; opacity: 0.3; z-index: -1;
        }

        h1 { font-size: 1.6rem; letter-spacing: 6px; margin-bottom: 25px; font-weight: 300; text-transform: uppercase; }

        /* íƒ­ ë©”ë‰´ */
        .tab-menu { display: flex; justify-content: center; margin-bottom: 30px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); padding-bottom: 10px; }
        .tab-button { background: none; border: none; color: rgba(255, 255, 255, 0.5); font-size: 0.8rem; padding: 10px 15px; cursor: pointer; transition: 0.3s; position: relative; letter-spacing: 2px; }
        .tab-button.active { color: #fff; font-weight: 600; }
        .tab-button.active::after { content: ''; position: absolute; bottom: -11px; left: 50%; transform: translateX(-50%); width: 60%; height: 2px; background-color: #00bcd4; }

        /* Intro Section */
        .profile-container { width: 110px; height: 110px; border-radius: 50%; border: 2px solid rgba(255, 255, 255, 0.2); margin: 0 auto 25px; overflow: hidden; background: #000; }
        .profile-video { width: 100%; height: 100%; object-fit: cover; }
        h2 { font-size: 1.25rem; margin-bottom: 15px; font-weight: 500; }
        p.description { font-size: 0.95rem; color: rgba(255, 255, 255, 0.8); margin-bottom: 35px; line-height: 1.7; word-break: keep-all; }

        .link-button { display: block; text-decoration: none; color: #fff; background: rgba(255, 255, 255, 0.08); border: 1px solid rgba(255, 255, 255, 0.1); padding: 16px; margin-bottom: 12px; border-radius: 12px; transition: all 0.3s ease; font-size: 0.9rem; letter-spacing: 1px; cursor: pointer; }
        .link-button:hover { background: #00bcd4; color: #000; transform: translateY(-3px); }

        .sub-button-container { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-in-out; margin-bottom: 10px; display: flex; flex-direction: column; gap: 8px; padding: 0 10px; }
        .sub-button-container.open { max-height: 400px; margin-bottom: 20px; }
        .sub-link { display: block; text-decoration: none; color: rgba(255, 255, 255, 0.7); background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); padding: 12px; border-radius: 8px; font-size: 0.85rem; transition: 0.3s; text-align: left; }

        /* Diary & Note ì „ìš© ìŠ¤íƒ€ì¼ */
        #diary-textarea {
            width: 100%; height: 200px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px; color: #fff; padding: 15px;
            font-size: 0.9rem; line-height: 1.6; resize: none; margin-bottom: 15px;
            outline: none; transition: border-color 0.3s;
        }
        #diary-textarea:focus { border-color: #00bcd4; }
        .save-status { font-size: 0.75rem; color: #00bcd4; margin-top: -10px; margin-bottom: 15px; height: 1rem; opacity: 0; transition: opacity 0.3s; }

        /* Lotto & Tarot (ê¸°ì¡´ ìŠ¤íƒ€ì¼ ìœ ì§€) */
        .lotto-row { display: flex; justify-content: center; gap: 10px; margin-bottom: 15px; }
        .ball { width: 36px; height: 36px; line-height: 36px; border-radius: 50%; font-size: 0.9rem; font-weight: 700; color: #222; background: #eee; display: flex; justify-content: center; align-items: center; }
        .ball-1-10 { background: #fbc400; } .ball-11-20 { background: #69c8f2; } .ball-21-30 { background: #ff7272; } .ball-31-40 { background: #aaaaaa; } .ball-41-45 { background: #b0d840; }
        .generate-btn { background: #00bcd4; color: #000; border: none; padding: 16px 32px; font-size: 1rem; font-weight: 700; border-radius: 50px; cursor: pointer; margin-top: 10px; transition: 0.3s; }
        
        .tarot-container { height: 420px; position: relative; display: flex; flex-direction: column; align-items: center; }
        #card-orbit { position: relative; width: 100%; height: 300px; perspective: 1200px; display: flex; justify-content: center; align-items: center; }
        .orbit-card { position: absolute; width: 80px; height: 130px; background: linear-gradient(135deg, #1a1a1a 0%, #000 100%); border: 1px solid rgba(0, 188, 212, 0.4); border-radius: 8px; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; transition: 0.3s; }
        @keyframes orbitRotate { from { transform: rotateY(0deg) translateX(130px) rotateY(0deg); } to { transform: rotateY(360deg) translateX(130px) rotateY(-360deg); } }
        
        .tarot-card-wrapper { perspective: 1000px; width: 200px; height: 340px; position: absolute; top: 0; z-index: 100; }
        .tarot-card-inner { position: relative; width: 100%; height: 100%; transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); transform-style: preserve-3d; }
        .tarot-card-inner.is-flipped { transform: rotateY(180deg); }
        .tarot-front, .tarot-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 16px; border: 2px solid rgba(255,255,255,0.2); display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 10px; }
        .tarot-front { background: linear-gradient(135deg, #1a1a1a 0%, #000 100%); color: #00bcd4; }
        .tarot-back { background: #ffffff; color: #1a1a1a; transform: rotateY(180deg); }
        .card-img-container { width: 100%; height: 220px; overflow: hidden; border-radius: 8px; background: #f0f0f0; margin-bottom: 12px; }
        .tarot-back img { width: 100%; height: 100%; object-fit: cover; }

        .footer { margin-top: 50px; font-size: 0.7rem; color: rgba(255, 255, 255, 0.4); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
    </style>
</head>
<body>

    <div class="main-container" id="main-container">
        <h1>0MORPHIAS0</h1>

        <div class="tab-menu">
            <button class="tab-button active" onclick="openTab(event, 'intro')">INTRO</button>
            <button class="tab-button" onclick="openTab(event, 'lotto')">LOTTO</button>
            <button class="tab-button" onclick="openTab(event, 'tarrot')">TARROT</button>
        </div>

        <div id="intro" class="tab-content active">
            <div class="profile-container">
                <video class="profile-video" autoplay loop muted playsinline>
                    <source src="homepage2.mp4" type="video/mp4">
                </video>
            </div>
            <h2>Creative Vision & Archive</h2>
            <p class="description">
                ë‚¯ì„  ì˜ê°ì´ í˜„ì‹¤ì´ ë˜ëŠ” ê³³. 0MORPHIAS0ê°€ íë ˆì´ì…˜í•œ<br>
                ë¯¸í•™ì  ì¡°ê°ë“¤ì„ ë”°ë¼ ë‹¹ì‹ ì˜ ì„¸ê³„ë¥¼ ë¬´í•œíˆ í™•ì¥í•´ë³´ì„¸ìš”.
            </p>
            <a href="https://www.instagram.com/0morphias0" class="link-button" target="_blank">INSTAGRAM</a>
            <div class="link-button" onclick="toggleWorks()">FICTION & WORKS</div>
            <div id="works-container" class="sub-button-container">
                <a href="We're from the stars!.pdf" class="sub-link" target="_blank">âœ¨ We're from the stars!</a>
                <a href="Mani and Red Car.pdf" class="sub-link" target="_blank">ğŸš— Mani and Red Car</a>
                <a href="a girl who has become a tree.pdf" class="sub-link" target="_blank">ğŸŒ³ A girl who has become a tree</a>
            </div>
            <div class="link-button" onclick="openTabDirect('tarrot')">DIARY & NOTE</div>
        </div>

        <div id="lotto" class="tab-content">
            <div id="lotto-display" style="min-height: 220px; display: flex; flex-direction: column; justify-content: center;">
                <p style="color: rgba(255,255,255,0.5);">GENERATE ë²„íŠ¼ì„ ëˆŒëŸ¬ í–‰ìš´ì„ í™•ì¸í•˜ì„¸ìš”.</p>
            </div>
            <button class="generate-btn" onclick="generateLotto()">GENERATE 5 SETS</button>
        </div>

        <div id="tarrot" class="tab-content">
            <h2 style="margin-bottom: 10px;">Diary & Note</h2>
            
            <div id="diary-section">
                <textarea id="diary-textarea" placeholder="ë‹¹ì‹ ì˜ ìƒê°ì´ë‚˜ ì¼ê¸°ë¥¼ ì ì–´ë³´ì„¸ìš”. (ìë™ ì €ì¥ë©ë‹ˆë‹¤)"></textarea>
                <div id="save-status" class="save-status">ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.</div>
                <button class="link-button" style="width:100%;" onclick="toggleTarotView()">ì˜¤ëŠ˜ì˜ íƒ€ë¡œ í™•ì¸í•˜ê¸°</button>
            </div>

            <div id="tarot-game-section" style="display:none;">
                <p id="tarot-guide" style="font-size: 0.8rem; color: rgba(255,255,255,0.5); margin-bottom: 25px;">íšŒì „í•˜ëŠ” ì¹´ë“œ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì„¸ìš”.</p>
                <div class="tarot-container">
                    <div id="card-orbit"></div>
                    <div id="selected-card-view" class="tarot-card-wrapper" style="display:none;">
                        <div class="tarot-card-inner" id="tarot-card">
                            <div class="tarot-front"></div>
                            <div class="tarot-back">
                                <div class="card-img-container">
                                    <img id="tarot-img" src="" alt="Card Image" onerror="this.src='https://via.placeholder.com/200x300?text=No+Image';">
                                </div>
                                <span id="tarot-name">CARD NAME</span>
                                <p id="tarot-desc"></p>
                            </div>
                        </div>
                    </div>
                    <button id="shuffle-btn" class="generate-btn" style="padding: 12px 25px; font-size: 0.85rem; margin-top: 350px; display:none;" onclick="resetTarot()">SHUFFLE AGAIN</button>
                    <button class="link-button" style="width:100%; margin-top:20px;" onclick="toggleTarotView()">ë…¸íŠ¸ë¡œ ëŒì•„ê°€ê¸°</button>
                </div>
            </div>
        </div>

        <div class="footer">
            Â© <span id="current-year"></span> 0MORPHIAS0. ALL RIGHTS RESERVED.
        </div>
    </div>

    <script>
        document.getElementById('current-year').textContent = new Date().getFullYear();

        // Diary ì €ì¥ ê¸°ëŠ¥
        const diaryTextarea = document.getElementById('diary-textarea');
        const saveStatus = document.getElementById('save-status');

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì €ì¥ëœ ë‚´ìš© ë¶ˆëŸ¬ì˜¤ê¸°
        window.onload = () => {
            const savedNote = localStorage.getItem('user_diary');
            if (savedNote) diaryTextarea.value = savedNote;
            initTarotOrbit();
        };

        // ì…ë ¥í•  ë•Œë§ˆë‹¤ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ìë™ ì €ì¥ (ë””ë°”ìš´ì‹± ì ìš©)
        let saveTimeout;
        diaryTextarea.addEventListener('input', () => {
            clearTimeout(saveTimeout);
            saveTimeout = setTimeout(() => {
                localStorage.setItem('user_diary', diaryTextarea.value);
                saveStatus.style.opacity = 1;
                setTimeout(() => { saveStatus.style.opacity = 0; }, 2000);
            }, 1000); // 1ì´ˆê°„ ì…ë ¥ì´ ì—†ìœ¼ë©´ ì €ì¥
        });

        function toggleWorks() {
            document.getElementById('works-container').classList.toggle('open');
        }

        function toggleTarotView() {
            const diarySec = document.getElementById('diary-section');
            const tarotSec = document.getElementById('tarot-game-section');
            if (diarySec.style.display === 'none') {
                diarySec.style.display = 'block';
                tarotSec.style.display = 'none';
            } else {
                diarySec.style.display = 'none';
                tarotSec.style.display = 'block';
                resetTarot();
            }
        }

        function openTab(evt, tabName) {
            const contents = document.getElementsByClassName('tab-content');
            for (let content of contents) content.classList.remove('active');
            const buttons = document.getElementsByClassName('tab-button');
            for (let btn of buttons) btn.classList.remove('active');
            
            const mainContainer = document.getElementById('main-container');
            if(tabName === 'tarrot') {
                mainContainer.classList.add('tarrot-bg-active');
            } else {
                mainContainer.classList.remove('tarrot-bg-active');
            }

            document.getElementById(tabName).classList.add('active');
            if(evt) evt.currentTarget.classList.add('active');
        }

        function openTabDirect(tabName) {
            const btn = document.querySelector(`.tab-button[onclick*="${tabName}"]`);
            openTab({currentTarget: btn}, tabName);
        }

        // --- Lotto & Tarot Logic (ê¸°ì¡´ ë¡œì§ ìœ ì§€) ---
        function generateLotto() {
            const display = document.getElementById('lotto-display');
            display.innerHTML = ''; 
            for (let i = 0; i < 5; i++) {
                let nums = [];
                while(nums.length < 6) {
                    let r = Math.floor(Math.random() * 45) + 1;
                    if(!nums.includes(r)) nums.push(r);
                }
                nums.sort((a, b) => a - b);
                const row = document.createElement('div');
                row.className = 'lotto-row';
                nums.forEach(n => {
                    const ball = document.createElement('div');
                    ball.className = 'ball';
                    ball.innerText = n;
                    if(n <= 10) ball.classList.add('ball-1-10');
                    else if(n <= 20) ball.classList.add('ball-11-20');
                    else if(n <= 30) ball.classList.add('ball-21-30');
                    else if(n <= 40) ball.classList.add('ball-31-40');
                    else ball.classList.add('ball-41-45');
                    row.appendChild(ball);
                });
                display.appendChild(row);
            }
        }

        const majorArcana = [
            { name: "0. The Fool", desc: "ìƒˆë¡œìš´ ì‹œì‘ê³¼ ìˆœìˆ˜í•œ ëª¨í—˜ì˜ ê¸°ìš´ì´ ìˆìŠµë‹ˆë‹¤." },
            { name: "1. The Magician", desc: "ì°½ì˜ì ì¸ ì¬ëŠ¥ì„ ë°œíœ˜í•  ì™„ë²½í•œ ì‹œê¸°ì…ë‹ˆë‹¤." },
            { name: "2. The High Priestess", desc: "ì§ê´€ê³¼ ë‚´ë©´ì˜ ëª©ì†Œë¦¬ì— ì§‘ì¤‘í•´ ë³´ì„¸ìš”." },
            { name: "3. The Empress", desc: "í’ìš”ë¡œì›€ê³¼ ì°½ì¡°ì ì¸ ê²°ì‹¤ì´ ì˜ˆìƒë©ë‹ˆë‹¤." },
            { name: "4. The Emperor", desc: "ì§ˆì„œì™€ ë¦¬ë”ì‹­ì„ í†µí•´ ìƒí™©ì„ í†µì œí•˜ì„¸ìš”." },
            { name: "5. The Hierophant", desc: "í˜„ëª…í•œ ì¡°ì–¸ì´ë‚˜ ì „í†µì˜ ì§€í˜œê°€ í•„ìš”í•©ë‹ˆë‹¤." },
            { name: "6. The Lovers", desc: "ì¡°í™”ë¡œìš´ ê´€ê³„ì™€ ì‹ ì¤‘í•œ ì„ íƒì˜ ê¸°ë¡œì…ë‹ˆë‹¤." },
            { name: "7. The Chariot", desc: "ëª©í‘œë¥¼ í–¥í•´ ê°•ë ¥í•˜ê²Œ ì „ì§„í•  ë•Œì…ë‹ˆë‹¤." },
            { name: "8. Strength", desc: "ì¸ë‚´ì™€ ë¶€ë“œëŸ¬ìš´ í˜ì´ ì–´ë ¤ì›€ì„ ê·¹ë³µí•©ë‹ˆë‹¤." },
            { name: "9. The Hermit", desc: "ìì‹ ì„ ëŒì•„ë³´ë©° ë‚´ë©´ì˜ ë‹µì„ ì°¾ì•„ë³´ì„¸ìš”." },
            { name: "10. Wheel of Fortune", desc: "í–‰ìš´ì˜ íë¦„ì´ ë‹¹ì‹ ì—ê²Œ ë‹¤ê°€ì˜¤ê³  ìˆìŠµë‹ˆë‹¤." },
            { name: "11. Justice", desc: "ê³µì •í•˜ê³  ê°ê´€ì ì¸ íŒë‹¨ì´ í•„ìš”í•œ ì‹œì ì…ë‹ˆë‹¤." },
            { name: "12. The Hanged Man", desc: "ê´€ì ì„ ë°”ê¾¸ë©´ ìƒˆë¡œìš´ ê¸°íšŒê°€ ë³´ì¼ ê²ƒì…ë‹ˆë‹¤." },
            { name: "13. Death", desc: "ë³€í™”ë¥¼ ìœ„í•´ ê³¼ê±°ë¥¼ ë†“ì•„ì¤„ ì‹œê°„ì…ë‹ˆë‹¤." },
            { name: "14. Temperance", desc: "ì ˆì œì™€ ê· í˜•ì„ í†µí•´ ì•ˆì •ì„ ë˜ì°¾ìœ¼ì„¸ìš”." },
            { name: "15. The Devil", desc: "ì§‘ì°©ì—ì„œ ë²—ì–´ë‚˜ ììœ ë¥¼ ì°¾ì„ ìš©ê¸°ê°€ í•„ìš”í•©ë‹ˆë‹¤." },
            { name: "16. The Tower", desc: "ê°‘ì‘ìŠ¤ëŸ¬ìš´ ë³€í™”ê°€ ì„±ì¥ì˜ ë°‘ê±°ë¦„ì´ ë©ë‹ˆë‹¤." },
            { name: "17. The Star", desc: "í¬ë§ê³¼ ì˜ê°ì´ ë‹¹ì‹ ì˜ ê¸¸ì„ ë¹„ì¶”ê³  ìˆìŠµë‹ˆë‹¤." },
            { name: "18. The Moon", desc: "ë¶ˆì•ˆí•¨ ì†ì—ì„œë„ ë‹¹ì‹ ì˜ ì§ê´€ì„ ì‹ ë¢°í•˜ì„¸ìš”." },
            { name: "19. The Sun", desc: "ë°ì€ ì—ë„ˆì§€ì™€ í™•ì‹¤í•œ ì„±ê³µì´ ê¸°ë‹¤ë¦½ë‹ˆë‹¤." },
            { name: "20. Judgement", desc: "ëª…í™•í•œ ê²°ë‹¨ê³¼ ë³´ìƒì˜ ì‹œê°„ì´ ë‹¤ê°€ì™”ìŠµë‹ˆë‹¤." },
            { name: "21. The World", desc: "í•˜ë‚˜ì˜ ì™„ì„±ëœ ë‹¨ê³„ì— ë„ë‹¬í–ˆìŠµë‹ˆë‹¤. ì¶•í•˜í•©ë‹ˆë‹¤!" }
        ];

        let isSelected = false;
        function initTarotOrbit() {
            const orbitContainer = document.getElementById('card-orbit');
            const selectedView = document.getElementById('selected-card-view');
            const shuffleBtn = document.getElementById('shuffle-btn');
            const guide = document.getElementById('tarot-guide');
            if(!orbitContainer) return;
            orbitContainer.innerHTML = '';
            orbitContainer.style.display = 'flex';
            selectedView.style.display = 'none';
            shuffleBtn.style.display = 'none';
            guide.innerText = "íšŒì „í•˜ëŠ” ì¹´ë“œ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì„¸ìš”.";
            isSelected = false;
            for (let i = 0; i < 22; i++) {
                const card = document.createElement('div');
                card.className = 'orbit-card';
                card.style.animation = `orbitRotate 6s linear infinite`;
                card.style.animationDelay = `${(i * (6 / 22)) * -1}s`;
                card.onclick = () => pickTarotCard();
                orbitContainer.appendChild(card);
            }
        }

        function pickTarotCard() {
            if (isSelected) return;
            isSelected = true;
            const orbitContainer = document.getElementById('card-orbit');
            const selectedView = document.getElementById('selected-card-view');
            const cardInner = document.getElementById('tarot-card');
            const shuffleBtn = document.getElementById('shuffle-btn');
            const guide = document.getElementById('tarot-guide');
            orbitContainer.style.display = 'none';
            selectedView.style.display = 'block';
            cardInner.classList.remove('is-flipped');
            guide.innerText = "ë‹¹ì‹ ì˜ ìš´ëª…ì„ í™•ì¸í•˜ì„¸ìš”.";
            const randomIndex = Math.floor(Math.random() * majorArcana.length);
            const cardData = majorArcana[randomIndex];
            document.getElementById('tarot-img').src = `./Tarrot/${randomIndex}.png`;
            document.getElementById('tarot-name').innerText = cardData.name;
            document.getElementById('tarot-desc').innerText = cardData.desc;
            setTimeout(() => { cardInner.classList.add('is-flipped'); shuffleBtn.style.display = 'block'; }, 150);
        }

        function resetTarot() { initTarotOrbit(); }
    </script>
</body>
</html>